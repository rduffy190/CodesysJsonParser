{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)7a553231-75f8-4cae-8b4e-5907d8952fa7","ParentGuid":"(Guid)424dd9f0-284c-44c2-ab5a-30cc48b07b83","Name":"(string)GetNextJsonToken","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)6f9dac99-8de1-4efc-8465-68ac443b7d08","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"6f9dac99","@Value":{"SpecialFunc":{"@Type":"0db3d7bb:Enum","@Value":"None"},"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)Token.TokenType := JSON_TOKEN_ERROR;\nToken.StartIndex := 0;\nToken.Length := 0;\n\n// Skip whitespace\nWHILE (Offset <= StrSize) DO\n    CurrentChar := JsonString[Offset]; \n    IF CurrentChar = 32 OR CurrentChar = 9 OR CurrentChar = 10 OR CurrentChar = 13 THEN // space, tab, LF, CR\n        Offset := Offset + 1;\n    ELSE\n        EXIT;\n    END_IF;\nEND_WHILE;\n\n// Check for end of string\nIF Offset > StrSize THEN\n    Token.TokenType := JSON_TOKEN_EOF;\n    Token.StartIndex := Offset;\n    GetNextJsonToken := Token;\n    RETURN;\nEND_IF;\n\nToken.StartIndex := Offset;\nCurrentChar := JsonString[Offset]; \n\n// Single character tokens\nCASE CurrentChar OF\n    123: // {\n        Token.TokenType := JSON_TOKEN_LBRACE;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    125: // }\n        Token.TokenType := JSON_TOKEN_RBRACE;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    91: // [\n        Token.TokenType := JSON_TOKEN_LBRACKET;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    93: // ]\n        Token.TokenType := JSON_TOKEN_RBRACKET;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    44: // ,\n        Token.TokenType := JSON_TOKEN_COMMA;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    58: // :\n        Token.TokenType := JSON_TOKEN_COLON;\n        Token.Length := 1;\n        Offset := Offset + 1;\n        GetNextJsonToken := Token;\n        RETURN;\n        \n    34: // \" (string)\n        Offset := Offset + 1;\n        WHILE Offset <= StrSize DO\n            CurrentChar := JsonString[Offset];\n            IF CurrentChar = 92 THEN // backslash (escape)\n                Offset := Offset + 2; // Skip escape and next char\n            ELSIF CurrentChar = 34 THEN // closing quote\n                Offset := Offset + 1;\n                Token.TokenType := JSON_TOKEN_STRING;\n                Token.Length := TO_DINT(Offset - Token.StartIndex);\n                GetNextJsonToken := Token;\n                RETURN;\n            ELSE\n                Offset := Offset + 1;\n            END_IF;\n        END_WHILE;\n        Token.TokenType := JSON_TOKEN_ERROR;\n        GetNextJsonToken := Token;\n        RETURN;\n\t0://String TERM \n\t\tToken.TokenType := JsonTokenType.JSON_TOKEN_EOF; \n\t\tToken.Length := 0; \n\t\tToken.StartIndex := Offset; \n\t\tGetNextJsonToken := Token; \n\t\tRETURN; \nEND_CASE;\n\n// Check for number (starts with - or digit)\nIF (CurrentChar = 45) OR (CurrentChar >= 48 AND CurrentChar <= 57) THEN // - or 0-9\n    StartOffset := Offset;\n    \n    // Skip minus sign\n    IF CurrentChar = 45 THEN\n        Offset := Offset + 1;\n    END_IF;\n    \n    // Integer part\n    WHILE Offset <= StrSize DO\n        CurrentChar := JsonString[Offset];\n        IF CurrentChar >= 48 AND CurrentChar <= 57 THEN // 0-9\n            Offset := Offset + 1;\n        ELSE\n            EXIT;\n        END_IF;\n    END_WHILE;\n    \n    // Decimal part\n    IF Offset <= StrSize AND JsonString[Offset] = 46 THEN // .\n        Offset := Offset + 1;\n        WHILE Offset <= StrSize DO\n            CurrentChar := JsonString[Offset];\n            IF CurrentChar >= 48 AND CurrentChar <= 57 THEN\n                Offset := Offset + 1;\n            ELSE\n                EXIT;\n            END_IF;\n        END_WHILE;\n    END_IF;\n    \n    // Exponent part\n    IF Offset <= StrSize THEN\n        CurrentChar := JsonString[Offset];\n        IF CurrentChar = 101 OR CurrentChar = 69 THEN // e or E\n            Offset := Offset + 1;\n            IF Offset <= StrSize THEN\n                CurrentChar := JsonString[Offset];\n                IF CurrentChar = 43 OR CurrentChar = 45 THEN // + or -\n                    Offset := Offset + 1;\n                END_IF;\n            END_IF;\n            WHILE Offset <= StrSize DO\n                CurrentChar := JsonString[Offset];\n                IF CurrentChar >= 48 AND CurrentChar <= 57 THEN\n                    Offset := Offset + 1;\n                ELSE\n                    EXIT;\n                END_IF;\n            END_WHILE;\n        END_IF;\n    END_IF;\n    \n    Token.TokenType := JSON_TOKEN_NUMBER;\n    Token.Length := TO_DINT(Offset - Token.StartIndex);\n    GetNextJsonToken := Token;\n    RETURN;\nEND_IF;\n\n// Check for keywords: null, true, false\nIF GetSubString(JsonString,StrSize,4,Offset) = 'null' THEN\n    Token.TokenType := JSON_TOKEN_NULL;\n    Token.Length := 4;\n    Offset := Offset + 4;\n    GetNextJsonToken := Token;\n    RETURN;\nEND_IF;\n\nIF GetSubString(JsonString,StrSize,4,Offset) = 'true' THEN\n    Token.TokenType := JSON_TOKEN_TRUE;\n    Token.Length := 4;\n    Offset := Offset + 4;\n    GetNextJsonToken := Token;\n    RETURN;\nEND_IF;\n\nIF GetSubString(JsonString,StrSize,5,Offset) = 'false' THEN\n    Token.TokenType := JSON_TOKEN_FALSE;\n    Token.Length := 5;\n    Offset := Offset + 5;\n    GetNextJsonToken := Token;\n    RETURN;\nEND_IF;\n\n// If we get here, it's an error\nToken.TokenType := JSON_TOKEN_ERROR;\nGetNextJsonToken := Token;","LineInfoPersistence":"(string)7a553231-75f8-4cae-8b4e-5907d8952fa7_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)FUNCTION GetNextJsonToken : JsonToken\nVAR_INPUT\n\tJsonString : POINTER TO BYTE; \n\tStrSize    : LINT; \nEND_VAR\nVAR_IN_OUT\n\tOffset : LINT;\nEND_VAR\nVAR\n\tToken : JsonToken;\n    CurrentChar : BYTE;\n    StartOffset : LINT;\n    i : DINT;\n    IsValid : BOOL;\nEND_VAR\n","LineInfoPersistence":"(string)7a553231-75f8-4cae-8b4e-5907d8952fa7_Decl_LineIds"}}}},"UniqueIdGenerator":"(string)207","POULevel":{"@Type":"8e575c5b:Enum","@Value":"Standard"},"ChildObjectGuids":{"@Type":"ArrayList:IList","@Value":[]},"AddAttributeSubsequent":"(bool)False"}},"TypeInfos":{"0db3d7bb":"{0db3d7bb-cde0-4416-9a7b-ce49a0124323}","3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","6f9dac99":"{6f9dac99-8de1-4efc-8465-68ac443b7d08}","8e575c5b":"{8e575c5b-1d37-49c6-941b-5c0ec7874787}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","ArrayList":"System.Collections.ArrayList","bool":"System.Boolean","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}