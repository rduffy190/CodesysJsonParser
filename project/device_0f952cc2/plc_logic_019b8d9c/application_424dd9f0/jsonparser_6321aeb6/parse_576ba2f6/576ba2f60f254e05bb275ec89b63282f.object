{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)576ba2f6-0f25-4e05-bb27-5ec89b63282f","ParentGuid":"(Guid)6321aeb6-5a5c-4770-91a0-b0ced94556af","Name":"(string)Parse","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)THIS^.Clean(); \nOffset := 0; \nobjIdx := 0; \narrIdx := -1; \nTHIS^.root.DataType := JsonDataType.JSON_DATA_OBJECT;\npRootOBJ := __NEW(JSONObject); \nTHIS^.root.pValue := pRootObj; \narrObjects[0] := pRootObj; \npRootObj^.pKeys := __NEW(POINTER TO JSONType, PARAMETERS.MAX_ARR_SIZE); \npRootObj^.pValues := __NEW(POINTER TO JSONTYpe, PARAMETERS.MAX_ARR_SIZE); \nbArr := FALSE; \nbNeedKey := TRUE; \nbFirstObj := TRUE; \nWHILE Offset < StrSize DO \n\tstJsonToken := GetNextJsonToken(pJsonStr,StrSize, Offset := Offset); \n\tCASE stJsonToken.TokenType OF \n\t\tJSON_TOKEN_NULL, JSON_TOKEN_TRUE, JSON_TOKEN_FALSE, JSON_TOKEN_NUMBER:\n\t\t\tjsonNodeVal := JsonHadlr(pJsonStr,stJsonToken);\n\t\t\tIF bARR AND NOT bARObj THEN \n\t\t\t\tarrArrays[arrIdx]^.Values[curArrIdx[arridx]] := __NEW(JSONType); \n\t\t\t\tarrArrays[arrIdx]^.Values[curArrIdx[arridx]]^ := jsonNodeVal; \n\t\t\t\tcurArrIdx[arridx] := curArrIdx[arridx] + 1; \n\t\t\tELSE \n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]]:=  __NEW(JSONType);\n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]]^:= jsonNodeVal; \n\t\t\t\tcurObjIdx[objIdx] := curObjIdx[objIdx] + 1;\n\t\t\t\tbNeedKey := TRUE;  \n\t\t\tEND_IF\n\t\tJSON_TOKEN_STRING: \n\t\t\tjsonNodeVal := JsonHadlr(pJsonStr,stJsonToken);\n\t\t\tIF bNeedKey THEN \n\t\t\t\tarrObjects[objIdx]^.pKeys[curObjIdx[objIdx]] := __NEW(JSONType); \n\t\t\t\tarrObjects[objIdx]^.pKeys[curObjIdx[objIdx]]^ := jsonNodeVal; \n\t\t\t\tbNeedKey := FALSE; \n\t\t\tELSIF bArr THEN \n\t\t\t\tarrArrays[arrIdx]^.Values[curArrIdx[arridx]] := __NEW(JSONType); \n\t\t\t\tarrArrays[arrIdx]^.Values[curArrIdx[arridx]]^ := jsonNodeVal; \n\t\t\t\tcurArrIdx[arridx] := curArrIdx[arridx]+1;\n\t\t\tELSE\n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]] := __NEW(JSONType); \n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]]^ := jsonNodeVal;\n\t\t\t\tcurObjIdx[objIdx] := curObjIdx[objIdx] + 1; \n\t\t\t\tbNeedKey := TRUE; \n\t\t\tEND_IF\n    \tJSON_TOKEN_LBRACE:      // {\n\t\t\tpJsonObj := __NEW(JSONObject); \n\t\t\tpJsonObj^.pKeys := __NEW(POINTER TO JsonType, PARAMETERS.MAX_ARR_SIZE);\n\t\t\tpJsonObj^.pValues := __NEW(POINTER TO JsonType, PARAMETERS.MAX_ARR_SIZE);  \n\t\t\tpJsonType := __NEW(JSONType); \n\t\t\tpJsonType^.pValue := pJsonObj; \n\t\t\tpJsonType^.DataType :=JsonDataType.JSON_DATA_OBJECT;  \n\t\t\tIF bARR THEN \n\t\t\t\tarrArrays[arrIdx]^.Values[curArrIdx[arridx]] := pJsonType; \n\t\t\t\tbArObj := TRUE; \n\t\t\t\tcurArrIdx[arridx] := curArrIdx[arridx] + 1; \n\t\t\tELSE\n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]] := pJsonType; \n\t\t\t\tcurObjIdx[objIdx] := curObjIdx[objIdx] + 1; \n\t\t\tEND_IF\n\t\t\t\n\t\t\tobjIdx := objIdx + 1; \n\t\t\tarrObjects[objIdx] := pJsonObj;\n\t\t\tbNeedKey := TRUE;  \n\t\t\t\n    \tJSON_TOKEN_RBRACE:      // }\n\t\t\tarrObjects[objIdx]^.iNumValues := curObjIdx[objIdx]; \n\t\t\tcurObjIdx[objIdx] := 0; \n\t\t\tobjIdx := objIdx - 1; \n\t\t\tbArObj := FALSE; \n\t\t\t\n    \tJSON_TOKEN_LBRACKET:    // [\n\t\t\tpJsonArray := __NEW(JSONARRAY);\n\t\t\tpJsonArray^.Values := __NEW(POINTER TO JsonType,PARAMETERS.MAX_ARR_SIZE);  \n\t\t\tarrIdx := arrIdx + 1; \n\t\t\tarrArrays[arrIdx] := pJsonArray; \n\t\t\tIF bArr THEN \n\t\t\t\tiArrDepth := iArrDepth + 1; \n\t\t\t\tarrArrays[arrIdx -iarrDepth]^.Values[curArrIdx[arridx-iarrDepth]] := pJsonArray; \n\t\t\tELSE\n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objIdx]] := __NEW(JsonType); \n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objidx]]^.pValue := pJsonArray; \n\t\t\t\tarrObjects[objIdx]^.pValues[curObjIdx[objidx]]^.DataType := JsonDataType.JSON_DATA_ARRAY; \n\t\t\t\tcurObjIdx[objIdx] :=  curObjIdx[objIdx] + 1;\n\t\t\tEND_IF\n\t\t\tbArr := TRUE; \n\t\t\tbNeedKey := FALSE; \n\t\t\t\n    \tJSON_TOKEN_RBRACKET:    // ]\n\t\t\tarrArrays[arrIdx]^.iNumValues := curArrIdx[arridx]; \n\t\t\tcurArrIdx[arridx] := 0; \n\t\t\tarrIdx := arrIdx - 1; \n\t\t\tiArrDepth := iArrDepth - 1; \n\t\t\tIF iArrDepth < 0 THEN \n\t\t\t\tiArrDepth := 0; \n\t\t\t\tbArr := FALSE;\n\t\t\t\tbNeedKey := TRUE; \n\t\t\tEND_IF\n\t\t\t \n\t\t\t\n    \tJSON_TOKEN_COMMA:       // ,\n\t\t\n    \tJSON_TOKEN_COLON:       // :\n\t\t\n    \tJSON_TOKEN_EOF:\n\t\t\tarrObjects[0]^.iNumValues := curObjIdx[0]; \n\t\t\tEXIT; \n    \tJSON_TOKEN_ERROR: \n\t\t\tEXIT; \n\tEND_CASE\nEND_WHILE","LineInfoPersistence":"(string)576ba2f6-0f25-4e05-bb27-5ec89b63282f_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD Parse : BOOL\nVAR_INPUT\n\tpJsonStr : POINTER TO BYTE; \n\tStrSize  : LINT; \nEND_VAR\nVAR\n\tOffset : LINT; \n\tstJsonToken: JsonToken;\n\tarrObjects : ARRAY[0..Parameters.MAX_DOC_DEPTH] OF POINTER TO JsonObject; \n\tarrArrays  : ARRAY[0..Parameters.MAX_DOC_DEPTH] OF POINTER TO JsonArray; \n\tobjIdx : INT; \n\tarrIdx : INT; \n\tcurArrIdx : ARRAY[0.. Parameters.MAX_DOC_DEPTH] OF INT; \n\tcurObjIdx : ARRAY[0.. Parameters.MAX_DOC_DEPTH] OF INT; \n\tarrStartObjIdx : INT; \n\tbArr : BOOL; \n\tbArObj : BOOL; \n\tpBool: POINTER TO BOOL;\n\tbNeedKey : BOOL; \n\tHasDecimal: BOOL;\n\tjsonNodeVal: JsonType;\n\tpJsonObj: POINTER TO JSONObject;\n\tiArrDepth : INT; \n\tpJsonArray: POINTER TO JSONARRAY;\n\tpJsonType: POINTER TO JSONType;\n\tbFirstObj: BOOL;\n\tpRootOBJ: POINTER TO JSONObject;\nEND_VAR\n","LineInfoPersistence":"(string)576ba2f6-0f25-4e05-bb27-5ec89b63282f_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}