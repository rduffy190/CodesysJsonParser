{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)6c93f440-3581-4c6a-8e30-8c89932eb4a3","ParentGuid":"(Guid)983a6070-c72b-40e9-9c8d-0925e2ec87f6","Name":"(string)Parse","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)PARSE := FALSE; \nTHIS^.Clean(); \nOffset := 0; \nobjIdx := 0; \narrIdx := -1; \nTHIS^.root.DataType := JsonDataType.JSON_DATA_OBJECT;\npRootOBJ := CreateObj();  \nTHIS^.root.pValue := pRootObj; \narrObjects[0] := pRootObj; \nbArr := FALSE; \nbNeedKey := TRUE; \nbFirstObj := TRUE; \nstrKey := ADR(strRoot); \nWHILE Offset < StrSize DO \n\tstJsonToken := GetNextJsonToken(pJsonStr,StrSize, Offset := Offset); \n\tCASE stJsonToken.TokenType OF \n\t\tJSON_TOKEN_NULL, JSON_TOKEN_TRUE, JSON_TOKEN_FALSE, JSON_TOKEN_NUMBER:\n\t\t\tjsonNodeVal := JsonHadlr(pJsonStr,stJsonToken);\n\t\t\tIF bARR AND NOT bARObj THEN \n\t\t\t\tpJsonType := CreateJsonType(); \n\t\t\t\tpJsonType^:=jsonNodeVal; \n\t\t\t\tarrArrays[arrIdx]^.PushBack(ADR(pJsonType)); \n\t\t\tELSE \n\t\t\t\tpJsonType := CreateJsonType(); \n\t\t\t\tpJsonType^:=jsonNodeVal; \n\t\t\t\tarrObjects[objIdx]^.Put(strKey, pJsonType); \n\t\t\t\tbNeedKey := TRUE;  \n\t\t\tEND_IF\n\t\tJSON_TOKEN_STRING: \n\t\t\tjsonNodeVal := JsonHadlr(pJsonStr,stJsonToken);\n\t\t\tIF bNeedKey THEN \n\t\t\t\tstrKey := jsonNodeVal.pValue; \n\t\t\t\tlCreatedKeys.PushBack(ADR(strKey)); \n\t\t\t\tbNeedKey := FALSE; \n\t\t\tELSIF bArr THEN \n\t\t\t\tpJsonType := CreateJsonType(); \n\t\t\t\tpJsonType^:=jsonNodeVal; \n\t\t\t\tarrArrays[arrIdx]^.PushBack(ADR(pJsonType));  \n\t\t\tELSE\n\t\t\t\tpJsonType := CreateJsonType(); \n\t\t\t\tpJsonType^:=jsonNodeVal; \n\t\t\t\tarrObjects[objIdx]^.Put(strKey, pJsonType); \n\t\t\t\tbNeedKey := TRUE; \n\t\t\tEND_IF\n    \tJSON_TOKEN_LBRACE:      // {\n\t\t\tpJsonObj := CreateObj(); \n\t\t\tpJsonType := CreateJsonType(); \n\t\t\tpJsonType^.pValue := pJsonObj; \n\t\t\tpJsonType^.DataType :=JsonDataType.JSON_DATA_OBJECT;  \n\t\t\tIF bARR THEN \n\t\t\t\tarrArrays[arrIdx]^.PushBack(ADR(pJsonType)); \n\t\t\t\tbArObj := TRUE; \n\t\t\tELSE\n\t\t\t\tarrObjects[objIdx]^.Put(strKey,pJsonType); \n\t\t\tEND_IF\n\t\t\t\n\t\t\tobjIdx := objIdx + 1; \n\t\t\tarrObjects[objIdx] := pJsonObj;\n\t\t\tbNeedKey := TRUE;  \n\t\t\t\n    \tJSON_TOKEN_RBRACE:      // }\n\t\t\tobjIdx := objIdx - 1; \n\t\t\tbArObj := FALSE; \n\t\t\t\n    \tJSON_TOKEN_LBRACKET:    // [\n\t\t\tpJsonArray := CreateArray(); \n\t\t\tarrIdx := arrIdx + 1; \n\t\t\tarrArrays[arrIdx] := pJsonArray; \n\t\t\tpJsonType := CreateJsonType(); \n\t\t\tpJsonType^.DataType := JsonDataType.JSON_DATA_ARRAY; \n\t\t\tpJsonType^.pValue := pJsonArray; \n\t\t\tIF bArr THEN \n\t\t\t\tarrArrays[arrIdx-1]^.PushBack(ADR(pJsonType)); \n\t\t\tELSE\n\t\t\t\tarrObjects[objIdx]^.Put(strKey, pJsonType); \n\t\t\tEND_IF\n\t\t\tbArr := TRUE; \n\t\t\tbNeedKey := FALSE; \n\t\t\t\n    \tJSON_TOKEN_RBRACKET:    // ]\n\t\t\tarrIdx := arrIdx - 1; \n\t\t\tIF arrIdx < 0 THEN \n\t\t\t\tbArr := FALSE;\n\t\t\t\tbNeedKey := TRUE; \n\t\t\tEND_IF\n\t\t\t \n\t\t\t\n    \tJSON_TOKEN_COMMA:       // ,\n\t\t\n    \tJSON_TOKEN_COLON:       // :\n\t\t\n    \tJSON_TOKEN_EOF:\n\t\tIF arrIdx = -1 AND objIdx = 0 THEN \n\t\t\tParse := TRUE;\n\t\tELSE\n\t\t\tClean();\n\t\t\troot.pValue := 0; \n\t\tEND_IF\n\t\t\tEXIT; \n    \tJSON_TOKEN_ERROR: \n\t\t\tEXIT; \n\tEND_CASE\nEND_WHILE","LineInfoPersistence":"(string)6c93f440-3581-4c6a-8e30-8c89932eb4a3_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD Parse : BOOL\nVAR_INPUT\n\tpJsonStr : POINTER TO BYTE; \n\tStrSize  : LINT; \nEND_VAR\nVAR\n\tOffset : LINT; \n\tstJsonToken: JsonToken;\n\tarrObjects : ARRAY[0..JSONParameters.MAX_DOC_DEPTH] OF POINTER TO JsonObjectManager; \n\tarrArrays  : ARRAY[0..JSONParameters.MAX_DOC_DEPTH] OF POINTER TO DynamicList; \n\tobjIdx : INT; \n\tarrIdx : INT; \n\tbArr : BOOL; \n\tbArObj : BOOL; \n\tpBool: POINTER TO BOOL;\n\tbNeedKey : BOOL; \n\tHasDecimal: BOOL;\n\tjsonNodeVal: JsonType;\n\tpJsonObj: POINTER TO JSONObject;\n\tpJsonArray: POINTER TO DynamicList;\n\tpJsonType: POINTER TO JSONType;\n\tbFirstObj: BOOL;\n\tpRootOBJ: POINTER TO JsonObjectManager;\n\tstrKey : POINTER TO BYTE;  \nEND_VAR\n","LineInfoPersistence":"(string)6c93f440-3581-4c6a-8e30-8c89932eb4a3_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}